<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="clr-namespace:ChessFederationManager.UI.ViewModels"
             x:Class="ChessFederationManager.UI.Views.CompetitionsView"
             x:DataType="d:CompetitionsViewModel">

  <Grid RowDefinitions="Auto,*,Auto" ColumnDefinitions="2*,3*" Margin="12">

    <!-- Form -->
    <StackPanel Spacing="8">
      <TextBlock FontSize="18" Text="Competitions"/>
      <TextBox Watermark="Name" Text="{Binding Name}"/>
      <DatePicker SelectedDate="{Binding StartDate}"/>
      <TextBox Watermark="Location" Text="{Binding Location}"/>

      <StackPanel Orientation="Horizontal" Spacing="8">
        <Button Content="Create" Click="Create_Click"/>
        <Button Content="Delete selected" Click="Delete_Click"/>
        <Button Content="Refresh" Click="Refresh_Click"/>
      </StackPanel>
    </StackPanel>

    <!-- List -->
    <Border Grid.Column="1" Padding="8" BorderThickness="1">
      <DataGrid ItemsSource="{Binding Competitions}"
                SelectedItem="{Binding SelectedCompetition}"
                AutoGenerateColumns="False">
        <DataGrid.Columns>
          <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="2*"/>
          <DataGridTextColumn Header="Start" Binding="{Binding StartDate}" Width="*"/>
          <DataGridTextColumn Header="Location" Binding="{Binding Location}" Width="2*"/>
          <DataGridTextColumn Header="Players" Binding="{Binding Registrations.Count}" Width="*"/>
        </DataGrid.Columns>
      </DataGrid>
    </Border>

    <!-- Registrations -->
    <Grid Grid.Row="1" Grid.ColumnSpan="2" ColumnDefinitions="*,*" ColumnSpacing="12">
      <StackPanel Spacing="8">
        <TextBlock Text="Available players"/>
        <ListBox ItemsSource="{Binding AvailablePlayers}"
                 SelectedItem="{Binding SelectedAvailablePlayer}"
                 Height="180"/>
        <Button Content="Register >>" Click="Register_Click"/>
      </StackPanel>

      <StackPanel Grid.Column="1" Spacing="8">
        <TextBlock Text="Registered players"/>
        <ListBox ItemsSource="{Binding RegisteredPlayers}"
                 SelectedItem="{Binding SelectedRegisteredPlayer}"
                 Height="180"/>
        <Button Content="&lt;&lt; Remove" Click="Unregister_Click"/>
      </StackPanel>
    </Grid>

    <!-- Status -->
    <TextBlock Grid.Row="2" Grid.ColumnSpan="2" Text="{Binding Status}" Margin="0,10,0,0"/>
  </Grid>
</UserControl>
